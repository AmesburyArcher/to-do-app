(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{N:()=>p});const e=document.querySelector("#to-do-list"),n=document.querySelector(".to-do-title"),o=document.querySelector(".task-count"),r=(document.querySelector(".tasks"),()=>{const t=a.find((t=>t.id===i));null==i?e.style.display="none":(e.style.display="",n.textContent=t.name,(e=>{const n=t.tasks.filter((t=>!t.complete)).length,r=1===n?"task":"tasks";o.textContent=`${n} ${r} remaining`})())}),s="task.list",l="task.selectedFolder";let i=localStorage.getItem(l),a=JSON.parse(localStorage.getItem(s))||[];const c=()=>{d(),u()},d=()=>{localStorage.setItem(s,JSON.stringify(a)),localStorage.setItem(l,i)},u=()=>{const t=document.querySelector(".directory");m(t),a.forEach((e=>{const n=p("li",null,["directory-folder"],e.name);n.dataset.listId=e.id,e.id===i&&n.classList.add("directory-active"),t.appendChild(n);const o=p("span",null,["directory-folder-icons"],null);o.innerHTML='<button class="button-edit"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-edit" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" /><line x1="13.5" y1="6.5" x2="17.5" y2="10.5" /></svg></button><button class="button-trash"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-trash" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="7" x2="20" y2="7" /><line x1="10" y1="11" x2="10" y2="17" /><line x1="14" y1="11" x2="14" y2="17" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg></button>',n.classList.contains("directory-active")&&n.appendChild(o)}))},m=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},v=t=>{const e=document.querySelector(".add-dir-btn-text");t.preventDefault();const n=e.value;if(null==n||""===n)return;const o=h(n);e.value=null,a.push(o),c()},g=t=>{"li"===t.target.tagName.toLowerCase()&&(i=t.target.dataset.listId,c(),r())},y=t=>{t.target.classList.contains("icon-trash")&&t.target.parentElement.parentElement.parentElement.dataset.listId===i&&(a=a.filter((t=>t.id!==i)),i=null,c(),r())},f=t=>{if(t.target.classList.contains("icon-edit")&&t.target.parentElement.parentElement.parentElement.dataset.listId===i){const t=document.querySelector(".directory-modal-container");t.classList.toggle("active");const e=document.querySelector("#directory-edit-form"),n=document.querySelector(".icon-tabler-square-x"),o=n=>{n.preventDefault();const r=document.querySelector("#text-dir"),s=r.value;null!=s&&""!==s&&(a.forEach((t=>{t.id===i&&(t.name=s)})),r.value=null,c(),t.classList.toggle("active"),e.removeEventListener("submit",o))},r=()=>{t.classList.toggle("active"),e.removeEventListener("submit",o),n.removeEventListener("click",r)};n.addEventListener("click",r),e.addEventListener("submit",o)}},h=t=>({id:Date.now().toString(),name:t,tasks:[]});function p(t,e,n,o){const r=document.createElement(t);return e&&(r.id=e),n&&n.forEach((t=>r.classList.add(t))),o&&(r.textContent=o),r}(()=>{const t=document.querySelector(".light-dark-mode");t.addEventListener("click",(function(){document.body.classList.toggle("active"),t.classList.toggle("active");const e=document.querySelector(".current-theme");t.classList.contains("active")?e.textContent="Dark Mode":e.textContent="Light Mode"}))})(),c(),r(),(()=>{const t=document.querySelector("#add-dir-form"),e=document.querySelector(".directory");t.addEventListener("submit",v),e.addEventListener("click",g),e.addEventListener("click",y),e.addEventListener("click",f)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxVQUFVd0IsT0FBTyxVQUMvQkEsRUFBT3hCLFVBQVV3QixPQUFPLFVBRXhCLE1BQU1vQixFQUFldkYsU0FBU0MsY0FBYyxrQkFFekNrRSxFQUFPeEIsVUFBVUssU0FBUyxVQUN6QnVDLEVBQWExRSxZQUFjLFlBRTNCMEUsRUFBYTFFLFlBQWMsaUJEUW5DMkUsR0FMSTFELElBQ0ExQixJRGtDc0IsTUFDdEIsTUFBTXFGLEVBQVV6RixTQUFTQyxjQUFjLGlCQUNqQ3lGLEVBQWUxRixTQUFTQyxjQUFjLGNBRTVDd0YsRUFBUWIsaUJBQWlCLFNBQVV6QixHQUNuQ3VDLEVBQWFkLGlCQUFpQixRQUFTakIsR0FDdkMrQixFQUFhZCxpQkFBaUIsUUFBU2IsR0FDdkMyQixFQUFhZCxpQkFBaUIsUUFBU1gsSUNuQzNDMEIsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvLWRvLWFwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90by1kby1hcHAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvLWRvLWFwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvLWRvLWFwcC8uL3NyYy9saXN0LWNyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vdG8tZG8tYXBwLy4vc3JjL2RpcmVjdG9yeS1jcmVhdG9yLmpzIiwid2VicGFjazovL3RvLWRvLWFwcC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90by1kby1hcHAvLi9zcmMvdG9nZ2xlVGhlbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBjcmVhdGVIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyByZW5kZXJMaXN0cywgY3JlYXRlRGlyTGlzdGVuZXIsIHNhdmVBbmRSZW5kZXJMaXN0LCBkaXJlY3RvcnlBcnIsIHNlbGVjdGVkRm9sZGVyIH0gZnJvbSBcIi4vZGlyZWN0b3J5LWNyZWF0b3JcIjtcblxuY29uc3QgZm9sZGVyRGlzcGxheUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0by1kby1saXN0Jyk7XG5jb25zdCBmb2xkZXJUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby10aXRsZScpO1xuY29uc3QgdGFza0NvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2stY291bnQnKTtcbmNvbnN0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxuXG5jb25zdCByZW1vdmVUYXNrRGlzcGxheSA9ICgpID0+IHtcbiAgICBmb2xkZXJEaXNwbGF5Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cbmNvbnN0IHJlbmRlclRhc2tzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkTGlzdCA9IGRpcmVjdG9yeUFyci5maW5kKGxpc3QgPT4gbGlzdC5pZCA9PT0gc2VsZWN0ZWRGb2xkZXIpO1xuICAgIFxuICAgIGNvbnN0IHJlbmRlclRhc2tOdW0gPSAoc2VsZWN0ZWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5jb21wbGV0ZSA9IHNlbGVjdGVkTGlzdC50YXNrcy5maWx0ZXIodGFzayA9PiAhdGFzay5jb21wbGV0ZSkubGVuZ3RoO1xuICAgICAgICBjb25zdCB0YXNrc1N0cmluZyA9IGluY29tcGxldGUgPT09IDEgPyBcInRhc2tcIiA6IFwidGFza3NcIjtcbiAgICAgICAgdGFza0NvdW50LnRleHRDb250ZW50ID0gYCR7aW5jb21wbGV0ZX0gJHt0YXNrc1N0cmluZ30gcmVtYWluaW5nYDtcbiAgICB9XG5cbiAgICBpZihzZWxlY3RlZEZvbGRlciA9PSBudWxsKSB7XG4gICAgICAgIGZvbGRlckRpc3BsYXlDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9sZGVyRGlzcGxheUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGZvbGRlclRpdGxlLnRleHRDb250ZW50ID0gc2VsZWN0ZWRMaXN0Lm5hbWU7XG4gICAgICAgIHJlbmRlclRhc2tOdW0oc2VsZWN0ZWRMaXN0KVxuICAgIH1cbn1cblxuXG5leHBvcnQgeyByZW1vdmVUYXNrRGlzcGxheSwgcmVuZGVyVGFza3MgfSIsImltcG9ydCB7IGNyZWF0ZUhUTUxFbGVtZW50LCByZW5kZXIgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgcmVuZGVyVGFza3MgfSBmcm9tIFwiLi9saXN0LWNyZWF0b3JcIjtcblxuY29uc3QgTE9DQUxfU1RPUkFHRV9ESVJfS0VZID0gJ3Rhc2subGlzdCc7XG5jb25zdCBMT0NBTF9TVE9SQUdFX0ZPTERFUl9LRVkgPSAndGFzay5zZWxlY3RlZEZvbGRlcic7XG5cbi8vbG9jYWwgc3RvcmFnZSBrZXlzICsgYXJyYXlcbmxldCBzZWxlY3RlZEZvbGRlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfRk9MREVSX0tFWSlcbmxldCBkaXJlY3RvcnlBcnIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfRElSX0tFWSkpIHx8IFtdOyBcblxuY29uc3Qgc2F2ZUFuZFJlbmRlckxpc3QgPSAoKSA9PiB7XG4gICAgc2F2ZSgpO1xuICAgIHJlbmRlckxpc3RzKCk7XG59XG5cbi8vc2F2ZXMgdG8gbG9jYWwgc3RvcmFnZVxuY29uc3Qgc2F2ZSA9ICgpID0+IHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMT0NBTF9TVE9SQUdFX0RJUl9LRVksIEpTT04uc3RyaW5naWZ5KGRpcmVjdG9yeUFycikpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfRk9MREVSX0tFWSwgc2VsZWN0ZWRGb2xkZXIpO1xufVxuXG4vL3JlbmRlcnMgdGhlIGRpcmVjdG9yeSBsaXN0XG5jb25zdCByZW5kZXJMaXN0cyA9ICgpID0+IHtcbiAgICBjb25zdCBkaXJlY3RvcnlDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlyZWN0b3J5Jyk7XG5cbiAgICBjbGVhckxpc3QoZGlyZWN0b3J5Q29udGFpbmVyKTtcbiAgICBkaXJlY3RvcnlBcnIuZm9yRWFjaChkaXJlY3RvcnkgPT4ge1xuICAgICAgIGNvbnN0IGRpcmVjdG9yeUZvbGRlciA9IGNyZWF0ZUhUTUxFbGVtZW50KCdsaScsIG51bGwsIFsnZGlyZWN0b3J5LWZvbGRlciddLCBkaXJlY3RvcnkubmFtZSlcbiAgICAgICBkaXJlY3RvcnlGb2xkZXIuZGF0YXNldC5saXN0SWQgPSBkaXJlY3RvcnkuaWQ7XG4gICAgICAgLy9pZiB0aGUgZm9sZGVyIGlzIHNlbGVjdGVkLCBtYWtlIGl0IGFjdGl2ZSBmb2xkZXJcbiAgICAgICBpZihkaXJlY3RvcnkuaWQgPT09IHNlbGVjdGVkRm9sZGVyKSB7XG4gICAgICAgICAgIGRpcmVjdG9yeUZvbGRlci5jbGFzc0xpc3QuYWRkKCdkaXJlY3RvcnktYWN0aXZlJyk7XG4gICAgICAgfTtcbiAgICAgICBkaXJlY3RvcnlDb250YWluZXIuYXBwZW5kQ2hpbGQoZGlyZWN0b3J5Rm9sZGVyKTsgXG5cbiAgICAgICBjb25zdCBkaXJlY3RvcnlGb2xkZXJJY29ucyA9IGNyZWF0ZUhUTUxFbGVtZW50KCdzcGFuJywgbnVsbCwgWydkaXJlY3RvcnktZm9sZGVyLWljb25zJ10sIG51bGwpO1xuICAgICAgIGRpcmVjdG9yeUZvbGRlckljb25zLmlubmVySFRNTCA9ICc8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLWVkaXRcIj48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBjbGFzcz1cImljb24gaWNvbi1lZGl0XCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZT1cIiNmZmZmZmZcIiBmaWxsPVwibm9uZVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjxwYXRoIGQ9XCJNNCAyMGg0bDEwLjUgLTEwLjVhMS41IDEuNSAwIDAgMCAtNCAtNGwtMTAuNSAxMC41djRcIiAvPjxsaW5lIHgxPVwiMTMuNVwiIHkxPVwiNi41XCIgeDI9XCIxNy41XCIgeTI9XCIxMC41XCIgLz48L3N2Zz48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnV0dG9uLXRyYXNoXCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgY2xhc3M9XCJpY29uIGljb24tdHJhc2hcIiB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2ZmZmZmZlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggc3Ryb2tlPVwibm9uZVwiIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+PGxpbmUgeDE9XCI0XCIgeTE9XCI3XCIgeDI9XCIyMFwiIHkyPVwiN1wiIC8+PGxpbmUgeDE9XCIxMFwiIHkxPVwiMTFcIiB4Mj1cIjEwXCIgeTI9XCIxN1wiIC8+PGxpbmUgeDE9XCIxNFwiIHkxPVwiMTFcIiB4Mj1cIjE0XCIgeTI9XCIxN1wiIC8+PHBhdGggZD1cIk01IDdsMSAxMmEyIDIgMCAwIDAgMiAyaDhhMiAyIDAgMCAwIDIgLTJsMSAtMTJcIiAvPjxwYXRoIGQ9XCJNOSA3di0zYTEgMSAwIDAgMSAxIC0xaDRhMSAxIDAgMCAxIDEgMXYzXCIgLz48L3N2Zz48L2J1dHRvbj4nO1xuICAgICAgIC8vaWYgdGhlIGZvbGRlciBpcyBzZWxlY3RlZCwgYWRkIHRoZSBpY29uc1xuICAgICAgIGlmKGRpcmVjdG9yeUZvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoJ2RpcmVjdG9yeS1hY3RpdmUnKSkge1xuICAgICAgIGRpcmVjdG9yeUZvbGRlci5hcHBlbmRDaGlsZChkaXJlY3RvcnlGb2xkZXJJY29ucyk7XG4gICAgICAgfTtcbiAgICB9KVxufTtcblxuLy9jbGVhcnMgdGhlIGRpcmVjdG9yeSBsaXN0IHRvIGJlIHJlLXJlbmRlcmVkIGluIHJlbmRlckxpc3RzXG5jb25zdCBjbGVhckxpc3QgPSAobGlzdCkgPT4ge1xuICAgIHdoaWxlKGxpc3QuZmlyc3RDaGlsZCkge1xuICAgICAgICBsaXN0LnJlbW92ZUNoaWxkKGxpc3QuZmlyc3RDaGlsZClcbiAgICB9XG59O1xuXG4vL2FkZHMgZXZlbnRsaXN0ZW5lcnMgZm9yIHRoZSBkaXJlY3RvcnlcbmNvbnN0IGNyZWF0ZURpckxpc3RlbmVyID0gKCkgPT4ge1xuICAgIGNvbnN0IGRpckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLWRpci1mb3JtJyk7XG4gICAgY29uc3QgZGlyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpcmVjdG9yeScpO1xuXG4gICAgZGlyRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBjcmVhdGVEaXJlY3RvcnkpXG4gICAgZGlyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0ZWREaXJlY3RvcnlMaXN0ZW5lcilcbiAgICBkaXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVEaXIpXG4gICAgZGlyQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWRpdERpcilcbn1cblxuLy9jcmVhdGVzIGEgbmV3IGRpcmVjdG9yeSBmb2xkZXJcbmNvbnN0IGNyZWF0ZURpcmVjdG9yeSA9IChlKSA9PiB7XG4gICAgY29uc3QgZGlyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtZGlyLWJ0bi10ZXh0Jyk7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZGlyTmFtZSA9IGRpclRleHQudmFsdWU7XG4gICAgaWYoZGlyTmFtZSA9PSBudWxsIHx8IGRpck5hbWUgPT09ICcnKSByZXR1cm47XG4gICAgY29uc3QgZGlyZWN0b3J5ID0gY3JlYXRlTmV3RGlyKGRpck5hbWUpO1xuICAgIGRpclRleHQudmFsdWUgPSBudWxsO1xuICAgIGRpcmVjdG9yeUFyci5wdXNoKGRpcmVjdG9yeSk7XG4gICAgc2F2ZUFuZFJlbmRlckxpc3QoKTtcbn1cblxuLy9mdW5jdGlvbiBmb3IgdGhlIHNlbGVjdGVkIGRpcmVjdG9yeSBsaXN0ZW5lclxuY29uc3Qgc2VsZWN0ZWREaXJlY3RvcnlMaXN0ZW5lciA9IChlKSA9PiB7XG4gICAgaWYoZS50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbGknKSB7XG4gICAgICAgIHNlbGVjdGVkRm9sZGVyID0gZS50YXJnZXQuZGF0YXNldC5saXN0SWQ7XG4gICAgICAgIHNhdmVBbmRSZW5kZXJMaXN0KCk7XG4gICAgICAgIHJlbmRlclRhc2tzKCk7XG4gICAgfVxufVxuXG4vL2Z1bmN0aW9uIGZvciB0aGUgZGVsZXRlZGlyIGxpc3RlbmVyIFxuY29uc3QgZGVsZXRlRGlyID0gKGUpID0+IHtcbiAgICBpZihlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2ljb24tdHJhc2gnKSAmJiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0Lmxpc3RJZCA9PT0gc2VsZWN0ZWRGb2xkZXIpIHtcbiAgICAgICAgZGlyZWN0b3J5QXJyID0gZGlyZWN0b3J5QXJyLmZpbHRlcihkaXJlY3RvcnkgPT4gZGlyZWN0b3J5LmlkICE9PSBzZWxlY3RlZEZvbGRlcik7XG4gICAgICAgIHNlbGVjdGVkRm9sZGVyID0gbnVsbDtcbiAgICAgICAgc2F2ZUFuZFJlbmRlckxpc3QoKTtcbiAgICAgICAgcmVuZGVyVGFza3MoKTtcbiAgICB9XG59XG4vL0VkaXRpbmcgdGhlIGRpcmVjdG9yeSBmb2xkZXIgdGl0bGUgYW5kIHVwZGF0aW5nIHRoZSBhcnJheSArIERPTVxuY29uc3QgZWRpdERpciA9IChlKSA9PiB7XG4gICAgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpY29uLWVkaXQnKSAmJiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0Lmxpc3RJZCA9PT0gc2VsZWN0ZWRGb2xkZXIpIHtcbiAgICAgICAgY29uc3QgZGlyZWN0b3J5TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlyZWN0b3J5LW1vZGFsLWNvbnRhaW5lcicpO1xuICAgICAgICBkaXJlY3RvcnlNb2RhbC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAgICAgY29uc3QgZWRpdERpckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXJlY3RvcnktZWRpdC1mb3JtJyk7XG4gICAgICAgIGNvbnN0IGNsb3NlRWRpdERpckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pY29uLXRhYmxlci1zcXVhcmUteCcpO1xuXG4gICAgICAgIGNvbnN0IGVkaXREaXJGb3JtID0gKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdG9yeU1vZGFsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXh0LWRpcicpO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0b3J5UmVOYW1lID0gZGlyZWN0b3J5TW9kYWxUZXh0LnZhbHVlO1xuICAgICAgICAgICAgaWYoZGlyZWN0b3J5UmVOYW1lID09IG51bGwgfHwgZGlyZWN0b3J5UmVOYW1lID09PSAnJykgcmV0dXJuO1xuICAgICAgICAgICAgZGlyZWN0b3J5QXJyLmZvckVhY2goZGlyID0+IHtcbiAgICAgICAgICAgICAgICBpZihkaXIuaWQgPT09IHNlbGVjdGVkRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpci5uYW1lID0gZGlyZWN0b3J5UmVOYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGRpcmVjdG9yeU1vZGFsVGV4dC52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBzYXZlQW5kUmVuZGVyTGlzdCgpO1xuICAgICAgICAgICAgLy8gY29uc3QgZGlyZWN0b3J5TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGlyZWN0b3J5LW1vZGFsLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgZGlyZWN0b3J5TW9kYWwuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICBlZGl0RGlyQnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGVkaXREaXJGb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNsb3NlRWRpdERpciA9ICgpID0+IHtcbiAgICAgICAgICAgIGRpcmVjdG9yeU1vZGFsLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgZWRpdERpckJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlZGl0RGlyRm9ybSk7XG4gICAgICAgICAgICBjbG9zZUVkaXREaXJCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUVkaXREaXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2VFZGl0RGlyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VFZGl0RGlyKTtcbiAgICAgICAgZWRpdERpckJ0bi5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBlZGl0RGlyRm9ybSk7XG4gICAgfVxuICAgIFxuXG59XG5cbi8vY3JlYXRlcyBhIGRpcmVjdG9yeSBmb2xkZXIgb2JqZWN0IHRvIGJlIHB1c2hlZCBpbnRvIGRpcmVjdG9yeSBhcnJheVxuY29uc3QgY3JlYXRlTmV3RGlyID0gKGRpcikgPT4ge1xuICAgcmV0dXJuIHsgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSwgbmFtZTogZGlyLCB0YXNrczogW10gfVxufVxuXG5leHBvcnQgeyByZW5kZXJMaXN0cywgY3JlYXRlRGlyTGlzdGVuZXIsIHNhdmVBbmRSZW5kZXJMaXN0LCBkaXJlY3RvcnlBcnIsIHNlbGVjdGVkRm9sZGVyLCBjbGVhckxpc3QgfSIsImltcG9ydCB7IGNyZWF0ZURpckxpc3RlbmVyLCBzYXZlQW5kUmVuZGVyTGlzdCwgcmVuZGVyTGlzdHMsIGRpcmVjdG9yeUFyciwgc2VsZWN0ZWRGb2xkZXIgfSBmcm9tIFwiLi9kaXJlY3RvcnktY3JlYXRvclwiO1xuaW1wb3J0IHsgdG9nZ2xlVGhlbWUgfSBmcm9tIFwiLi90b2dnbGVUaGVtZVwiO1xuaW1wb3J0IHsgcmVtb3ZlVGFza0Rpc3BsYXksIHJlbmRlclRhc2tzIH0gZnJvbSBcIi4vbGlzdC1jcmVhdG9yXCJcblxuZnVuY3Rpb24gY3JlYXRlSFRNTEVsZW1lbnQodHlwZSwgaWQsIGNsYXNzZXMsIGNvbnRlbnQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcblxuICAgIGlmKGlkKSBlbGVtZW50LmlkID0gaWQ7XG4gICAgaWYoY2xhc3Nlcykge1xuICAgICAgICBjbGFzc2VzLmZvckVhY2goKG15Q2xhc3MpID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChteUNsYXNzKSk7XG4gICAgfTtcbiAgICBpZihjb250ZW50KSBlbGVtZW50LnRleHRDb250ZW50ID0gY29udGVudDtcblxuICAgIHJldHVybiBlbGVtZW50O1xufTtcblxuY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICAgIHNhdmVBbmRSZW5kZXJMaXN0KCk7XG4gICAgcmVuZGVyVGFza3MoKTtcbn1cblxuXG50b2dnbGVUaGVtZSgpO1xucmVuZGVyKCk7XG5jcmVhdGVEaXJMaXN0ZW5lcigpO1xuXG5leHBvcnQge1xuICAgIGNyZWF0ZUhUTUxFbGVtZW50LCByZW5kZXJcbn0iLCJjb25zdCB0b2dnbGVUaGVtZSA9ICgpID0+IHtcblxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpZ2h0LWRhcmstbW9kZScpO1xudG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlTW9kZSk7XG5cbmZ1bmN0aW9uIHRvZ2dsZU1vZGUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB0b2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cbiAgICBjb25zdCBjdXJyZW50VGhlbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3VycmVudC10aGVtZScpO1xuXG4gICAgaWYodG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHsgXG4gICAgICAgIGN1cnJlbnRUaGVtZS50ZXh0Q29udGVudCA9ICdEYXJrIE1vZGUnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRUaGVtZS50ZXh0Q29udGVudCA9ICdMaWdodCBNb2RlJztcbiAgICB9O1xufVxufVxuXG5leHBvcnQgeyB0b2dnbGVUaGVtZSB9Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZm9sZGVyRGlzcGxheUNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImZvbGRlclRpdGxlIiwidGFza0NvdW50IiwicmVuZGVyVGFza3MiLCJzZWxlY3RlZExpc3QiLCJkaXJlY3RvcnlBcnIiLCJmaW5kIiwibGlzdCIsImlkIiwic2VsZWN0ZWRGb2xkZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzZWxlY3RlZCIsImluY29tcGxldGUiLCJ0YXNrcyIsImZpbHRlciIsInRhc2siLCJjb21wbGV0ZSIsImxlbmd0aCIsInRhc2tzU3RyaW5nIiwicmVuZGVyVGFza051bSIsIkxPQ0FMX1NUT1JBR0VfRElSX0tFWSIsIkxPQ0FMX1NUT1JBR0VfRk9MREVSX0tFWSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJzYXZlQW5kUmVuZGVyTGlzdCIsInNhdmUiLCJyZW5kZXJMaXN0cyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJkaXJlY3RvcnlDb250YWluZXIiLCJjbGVhckxpc3QiLCJmb3JFYWNoIiwiZGlyZWN0b3J5IiwiZGlyZWN0b3J5Rm9sZGVyIiwiY3JlYXRlSFRNTEVsZW1lbnQiLCJkYXRhc2V0IiwibGlzdElkIiwiY2xhc3NMaXN0IiwiYWRkIiwiYXBwZW5kQ2hpbGQiLCJkaXJlY3RvcnlGb2xkZXJJY29ucyIsImlubmVySFRNTCIsImNvbnRhaW5zIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRGlyZWN0b3J5IiwiZSIsImRpclRleHQiLCJwcmV2ZW50RGVmYXVsdCIsImRpck5hbWUiLCJ2YWx1ZSIsImNyZWF0ZU5ld0RpciIsInB1c2giLCJzZWxlY3RlZERpcmVjdG9yeUxpc3RlbmVyIiwidGFyZ2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiZGVsZXRlRGlyIiwicGFyZW50RWxlbWVudCIsImVkaXREaXIiLCJkaXJlY3RvcnlNb2RhbCIsInRvZ2dsZSIsImVkaXREaXJCdG4iLCJjbG9zZUVkaXREaXJCdG4iLCJlZGl0RGlyRm9ybSIsImRpcmVjdG9yeU1vZGFsVGV4dCIsImRpcmVjdG9yeVJlTmFtZSIsImRpciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZUVkaXREaXIiLCJhZGRFdmVudExpc3RlbmVyIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwidHlwZSIsImNsYXNzZXMiLCJjb250ZW50IiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJteUNsYXNzIiwiYm9keSIsImN1cnJlbnRUaGVtZSIsInRvZ2dsZVRoZW1lIiwiZGlyRm9ybSIsImRpckNvbnRhaW5lciIsImNyZWF0ZURpckxpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==